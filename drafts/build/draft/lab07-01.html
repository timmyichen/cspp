<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Lab 7-1: Detecting English through Programming &mdash; CSP Python</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/dragndrop.css" type="text/css" />
    <link rel="stylesheet" href="_static/tabbedstuff.css" type="text/css" />
    <link rel="stylesheet" href="_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="_static/activecode.css" type="text/css" />
    <link rel="stylesheet" href="_static/poll.css" type="text/css" />
    <link rel="stylesheet" href="_static/pytutor.css" type="text/css" />
    <link rel="stylesheet" href="_static/modal-basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="_static/livecode.css" type="text/css" />
    <link rel="stylesheet" href="_static/clickable.css" type="text/css" />
    <link rel="stylesheet" href="_static/datafile.css" type="text/css" />
    <link rel="stylesheet" href="_static/fitb.css" type="text/css" />
    <link rel="stylesheet" href="_static/video.css" type="text/css" />
    <link rel="stylesheet" href="_static/parsons.css" type="text/css" />
    <link rel="stylesheet" href="_static/lib/prettify.css" type="text/css" />
    <link rel="stylesheet" href="_static/jquery-ui-1.10.3.custom.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="_static/runestone-custom-sphinx-bootstrap.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/runestonebase.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/dragndrop.js"></script>
    <script type="text/javascript" src="_static/timeddnd.js"></script>
    <script type="text/javascript" src="_static/tabbedstuff.js"></script>
    <script type="text/javascript" src="_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="_static/bookfuncs.js"></script>
    <script type="text/javascript" src="_static/codemirror.js"></script>
    <script type="text/javascript" src="_static/xml.js"></script>
    <script type="text/javascript" src="_static/css.js"></script>
    <script type="text/javascript" src="_static/htmlmixed.js"></script>
    <script type="text/javascript" src="_static/python.js"></script>
    <script type="text/javascript" src="_static/javascript.js"></script>
    <script type="text/javascript" src="_static/activecode.js"></script>
    <script type="text/javascript" src="_static/skulpt.min.js"></script>
    <script type="text/javascript" src="_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="_static/clike.js"></script>
    <script type="text/javascript" src="_static/timed_activecode.js"></script>
    <script type="text/javascript" src="_static/reveal.js"></script>
    <script type="text/javascript" src="_static/poll.js"></script>
    <script type="text/javascript" src="_static/animationbase.js"></script>
    <script type="text/javascript" src="_static/d3.v2.min.js"></script>
    <script type="text/javascript" src="_static/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="_static/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="_static/pytutor.js"></script>
    <script type="text/javascript" src="_static/codelens.js"></script>
    <script type="text/javascript" src="_static/livecode.js"></script>
    <script type="text/javascript" src="_static/clike.js"></script>
    <script type="text/javascript" src="_static/clickable.js"></script>
    <script type="text/javascript" src="_static/timedclickable.js"></script>
    <script type="text/javascript" src="_static/skulpt.min.js"></script>
    <script type="text/javascript" src="_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="_static/datafile.js"></script>
    <script type="text/javascript" src="_static/mchoice.js"></script>
    <script type="text/javascript" src="_static/timedmc.js"></script>
    <script type="text/javascript" src="_static/fitb.js"></script>
    <script type="text/javascript" src="_static/timedfitb.js"></script>
    <script type="text/javascript" src="_static/timed.js"></script>
    <script type="text/javascript" src="_static/lib/prettify.js"></script>
    <script type="text/javascript" src="_static/lib/hammer.min.js"></script>
    <script type="text/javascript" src="_static/parsons.js"></script>
    <script type="text/javascript" src="_static/timedparsons.js"></script>
    <script type="text/javascript" src="_static/shortanswer.js"></script>
    <script type="text/javascript" src="_static/timed_shortanswer.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="_static/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="_static/waypoints.min.js"></script>
    <script type="text/javascript" src="_static/rangy-core.js"></script>
    <script type="text/javascript" src="_static/rangy-textrange.js"></script>
    <script type="text/javascript" src="_static/rangy-cssclassapplier.js"></script>
    <script type="text/javascript" src="_static/user-highlights.js"></script>
    <script type="text/javascript" src="_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="_static/jquery-migrate-1.2.1.min.js"></script>
    <link rel="top" title="CSP Python" href="index.html" />
    <link rel="next" title="Lab 7-2: Bruteforcing the Transposition Cipher, Revisited" href="lab07-02.html" />
    <link rel="prev" title="Lab 6-3: Bruteforcing the Transposition Cipher" href="lab06-03.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/runestone';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'draft';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "unknown";
  eBookConfig.isLoggedIn = false;
  eBookConfig.useRunestoneServices = false;
  eBookConfig.python3 = true;
  eBookConfig.basecourse = 'draft';
</script>

<div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&status=0";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>



  </head>
  <body role="document">


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        <a class="brand-logo" style='background: transparent url("_static/img/logo_small.png") no-repeat 0px 0px;' href="/runestone/default/user/login">&nbsp; </a>
        <a class="navbar-brand" href="index.html">CSP Python</a>
      </div>
    </div>

    <div class="navbar-collapse collapse navbar-ex1-collapse">

      <ul class="nav navbar-nav navbar-right">

        <li class="divider-vertical"></li>

        <!-- social media dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-share-alt" style="opacity: 0.9"></i>
          </a>
          <ul class="dropdown-menu social-menu">
              <li>
                <div>
                  <b>Runestone in social media:</b>
                </div>
                <a href="https://twitter.com/iRunestone" class="twitter-follow-button" data-show-count="true">Follow @iRunestone</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                <div class="fb-like" data-href="https://www.facebook.com/RunestoneInteractive" data-send="false" data-layout="button_count" data-width="300" data-show-faces="false" data-font="arial"></div>
              </li>

              <li class="divider"></li>
              <li>
                <div>
                  <b>Help support us:</b>
                </div>
                <div>
                    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                  <input type="hidden" name="cmd" value="_s-xclick">
                  <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
                  ">
                  <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
                  <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
                  </form>

                </div>
              </li>
          </ul>
        </li>
        <!-- end social media dropdown -->

        <li class="divider-vertical"></li>

        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='index.html'>Table of Contents</a></li>
            
            <li><a href='/runestone/static/draft/genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Scratch ActiveCode</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        
        <li class="divider-vertical"></li>

        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href='/runestone/static/draft/navhelp.html'>Navigation Help</a></li>
            <li><a href='/runestone/static/overview/instructor.html'>Help for Instructors</a></li>
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>About Runestone</a></li>
            <li><a href='/runestone/static/help/bugreports.html'>Report A Problem</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>

      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        <!--
          <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">Lab 7-1: Detecting English through Programming</a><ul>
<li><a class="reference internal" href="#lab-requirements-and-specifications">Lab Requirements and Specifications</a></li>
<li><a class="reference internal" href="#code-template">Code Template</a></li>
<li><a class="reference internal" href="#testing-your-program">Testing Your Program</a></li>
</ul>
</li>
</ul>
</ul>
</li>
          <li class="divider-vertical"></li>
        
        
          
  <li id="relations-prev" title="Previous Chapter - Lab 6-3: Bruteforcing the Transposition Cipher" data-toggle="tooltip">
    <a href="lab06-03.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - Lab 7-2: Bruteforcing the Transposition Cipher, Revisited' data-toggle="tooltip" >
    <a href="lab07-02.html" >
      <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script type="text/javascript">
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  $('#relations-prev').tooltip(opts);
  $('#relations-next').tooltip(opts);
</script>
        -->
        
          <li></li>
        
      </ul>

    </div>
  </div>
</div>


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content">
  
  <script type=text/javascript>
localStorage.clear()
</script><div class="section" id="lab-7-1-detecting-english-through-programming">
<h1>Lab 7-1: Detecting English through Programming<a class="headerlink" href="#lab-7-1-detecting-english-through-programming" title="Permalink to this headline">¶</a></h1>
<p>Note: Part of this lab came from Al Sweigart&#8217;s great book, <em>Hacking Secret Ciphers with Python: A beginner&#8217;s Guide to cryptography and computer programming with Python</em>, available online here at <a class="reference external" href="https://inventwithpython.com/">Invent With Python</a>, among his other works.  Feel free to check them out if they interest you!</p>
<div class="section" id="lab-requirements-and-specifications">
<h2>Lab Requirements and Specifications<a class="headerlink" href="#lab-requirements-and-specifications" title="Permalink to this headline">¶</a></h2>
<p>As you saw from the previous chapter, in the Transposition cipher there are far too many keys (especially in long messages) for us to sort through.  It&#8217;s quite a chore for us, but no sweat for our computers.  Sounds like a job that a program can do!</p>
<p>Provided for you is a dictionary file, with over 45,000 of the most common words in the English language.  You can access that file by clicking on the following link: <a class="reference download internal" href="_downloads/dictionary.txt" download=""><code class="xref download docutils literal"><span class="pre">dictionary.txt</span></code></a>.  To view the file, you can also see: <a class="reference external" href="_downloads/dictionary.txt">dictionary.txt</a>.</p>
<p>Let&#8217;s start by making clear what it means for a sentence to be English.  Complex programs exist to analyze specific character patterns and frequencies to determine the language it is in, but we&#8217;re going to take the simpler route.  To us, a word is considered English if it is one of the words in our dictionary.  If not, then it is &#8220;not English&#8221;.  A sentence or paragraph or essay is then considered English if a specific percentage of words in the text are English.  We are going to call this percentage <code class="docutils literal"><span class="pre">target_percentage</span></code>, or in other words, <em>our minimum % of words that have to be English before we consider the entire text English</em>.  <code class="docutils literal"><span class="pre">target_percentage</span></code> is given to the function as a <code class="docutils literal"><span class="pre">float</span></code> between <code class="docutils literal"><span class="pre">0</span></code> and <code class="docutils literal"><span class="pre">1</span></code>.</p>
<p>As a reminder, you can find the % of words that are English by counting the number of English words, counting the number of total words, and then performing the following calculation to find our <strong>actual percentage</strong>:</p>
<div class="math">
\[\textrm{actual threshold} = \frac{\textrm{english words}}{\textrm{total words}}\]</div>
<p>As an example, let&#8217;s say we have a text with 100 words, 57 of which appear in our dictionary file.  Our target percentage is .5, indicating that at least 50% of the words have to be English for our program to consider it English.  Since our <strong>actual percentage</strong> is 57 / 100 is .57, or 57%, it is above our target, and passes - therefore, by our standards, it is English.</p>
<p><strong>In this lab, you are creating a module for other programs to import and use.</strong>  The focus of this module will be a function called <code class="docutils literal"><span class="pre">is_english()</span></code>, which takes in <code class="docutils literal"><span class="pre">message</span></code> and <code class="docutils literal"><span class="pre">target_percentage</span></code> and will return <code class="docutils literal"><span class="pre">True</span></code> or <code class="docutils literal"><span class="pre">False</span></code> depending on whether it passes as English or not.</p>
<p>Keep in mind that while 50% might seem like a pretty low target, the majority of the words being analyzed (like when bruteforcing the transposition and caesar cipher) will be complete gibberish.</p>
<p>You should name your file <code class="docutils literal"><span class="pre">FILN_detectEnglish.py</span></code>, where FILN is your first initial and last name, no space.</p>
</div>
<div class="section" id="code-template">
<h2>Code Template<a class="headerlink" href="#code-template" title="Permalink to this headline">¶</a></h2>
<p>Below is the code that you should use as a template for your program.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">#Detect English module</span>

<span class="c1">#To use, type this code:</span>
<span class="c1">#   import detectEnglish</span>
<span class="c1">#   detectEnglish.is_english(someString) #returns true/false</span>
<span class="c1">#(There must be a dictionary.txt file in this directory with</span>
<span class="c1"># all english words in it, one per line.  You can download</span>
<span class="c1"># this file from http://invpy.com/dictionary.txt)</span>

<span class="c1"># a string to hold all uppercase and lowercase letters,</span>
<span class="c1">#   plus spaces, tabs, newlines</span>
<span class="n">LETTERS_AND_SPACE</span> <span class="o">=</span> <span class="n">UPPERLETTERS</span> <span class="o">+</span> <span class="n">UPPERLETTERS</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span>

<span class="k">def</span> <span class="nf">loadDictionary</span><span class="p">():</span>
    <span class="n">dictionaryFile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;dictionary.txt&#39;</span><span class="p">)</span> <span class="c1"># opens file for reading</span>
    <span class="n">englishWords</span> <span class="o">=</span> <span class="p">{}</span> <span class="c1">#create empty dictionary</span>
    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">dictionaryFile</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">):</span> <span class="c1">#read file and</span>
                                                   <span class="c1">#  split by line</span>
        <span class="n">englishWords</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span> <span class="c1"># add the word as a key</span>
                                  <span class="c1">#   to the dictionary, no value</span>
    <span class="n">dictionaryFile</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">englishWords</span>

<span class="c1"># a dictionary to hold all english words in given dictionary.txt file</span>
<span class="n">ENGLISH_WORDS</span> <span class="o">=</span> <span class="n">loadDictionary</span><span class="p">()</span>

<span class="c1"># function: get_english_count</span>
<span class="c1"># purpose: gets the number of words that are found in the given</span>
<span class="c1">#   dictionary file</span>
<span class="c1"># arguments:</span>
<span class="c1">#   message: the message to count</span>
<span class="c1"># returns:</span>
<span class="c1">#   the number of &quot;English&quot; words in the message</span>
<span class="k">def</span> <span class="nf">get_english_count</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
    <span class="c1">#code here</span>

<span class="c1"># function: remove_non_letters</span>
<span class="c1"># purpose: removes any character that is not a letter or a space</span>
<span class="c1">#   from a string</span>
<span class="c1"># arguments:</span>
<span class="c1">#   message: the message in which to remove non-letter/space chars</span>
<span class="c1"># returns:</span>
<span class="c1">#   the modified message that no longer contains special chars</span>
<span class="k">def</span> <span class="nf">remove_non_letters</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
    <span class="c1">#code here</span>

<span class="c1"># function: message_to_upperlist</span>
<span class="c1"># purpose: take in a message as a string and convert it all to</span>
<span class="c1">#   uppercase turn it into a list of words (this function</span>
<span class="c1">#   should call the remove_non_letters() function)</span>
<span class="c1"># arguments:</span>
<span class="c1">#   message: the message to convert</span>
<span class="c1"># returns:</span>
<span class="c1">#   a list of words in the original message, without special chars</span>
<span class="k">def</span> <span class="nf">message_to_upperlist</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
    <span class="c1">#code here</span>

<span class="c1"># function: is_english</span>
<span class="c1"># purpose: determines whether a message is english based on</span>
<span class="c1">#   the percentage of its words that are found in our</span>
<span class="c1">#   provided dictionary file</span>
<span class="c1"># arguments:</span>
<span class="c1">#   message: the message to be analyzed</span>
<span class="c1">#   target_percentage: the minimum percentage for message to be</span>
<span class="c1">#       considered English. Default value if not provided is 30%</span>
<span class="c1"># returns:</span>
<span class="c1">#   True if the actual percentage is greater to or equal to the</span>
<span class="c1">#       target_percentage</span>
<span class="c1">#   False otherwise</span>
<span class="k">def</span> <span class="nf">is_english</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">target_percentage</span><span class="o">=.</span><span class="mi">3</span><span class="p">):</span>
    <span class="c1">#code here</span>
</pre></div>
</td></tr></table></div>
<p>Your job is to code the three incomplete functions to their specifications.</p>
<dl class="docutils">
<dt>You may want to keep the following tips in mind:</dt>
<dd><ul class="first last simple">
<li>the <code class="docutils literal"><span class="pre">dictionary.txt</span></code> file contains words that are all uppercase, so make sure you use the <code class="docutils literal"><span class="pre">.upper()</span></code> string method to convert words to uppercase to match.</li>
<li>use the <code class="docutils literal"><span class="pre">.split(&quot;</span> <span class="pre">&quot;)</span></code> string method to turn a string into a list where items are separated by space.</li>
<li>but be careful - <code class="docutils literal"><span class="pre">&quot;hello</span>&nbsp;&nbsp; <span class="pre">there&quot;.split(&quot;</span> <span class="pre">&quot;)</span></code> will return <code class="docutils literal"><span class="pre">['hello',</span> <span class="pre">'',</span> <span class="pre">'',</span> <span class="pre">'there']</span></code> since there are three spaces.  Remove empty list values, as those are not words!</li>
<li>when thinking of ways to remove non letters, try thinking of it in a different way: instead of removing non-letters, what if we were to keep only letters and spaces?</li>
<li>be careful of divide by zero errors!</li>
</ul>
</dd>
</dl>
<p>Since it is a module for other programs to import, you want to leave the instructions at the top of the code intact, so that other developers will know how to use it.  However, once you&#8217;ve written each function, feel free to delete the instructions for that function.</p>
</div>
<div class="section" id="testing-your-program">
<h2>Testing Your Program<a class="headerlink" href="#testing-your-program" title="Permalink to this headline">¶</a></h2>
<p>You can test your program by feeding it sample sentences and thresholds.  Sentences can be 10 words long to make your own calculations simple.  The following are a few tests:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">string</span> <span class="o">=</span> <span class="s2">&quot;Hello these are ten words ajds ahasd haaaae jsldf nassl&quot;</span>
<span class="k">print</span><span class="p">(</span><span class="n">is_english</span><span class="p">(</span><span class="n">string</span><span class="p">,</span><span class="mf">0.1</span><span class="p">))</span> <span class="c1"># should be True</span>
<span class="k">print</span><span class="p">(</span><span class="n">is_english</span><span class="p">(</span><span class="n">string</span><span class="p">,</span><span class="mf">0.4</span><span class="p">))</span> <span class="c1"># should be True</span>
<span class="k">print</span><span class="p">(</span><span class="n">is_english</span><span class="p">(</span><span class="n">string</span><span class="p">,</span><span class="mf">0.7</span><span class="p">))</span> <span class="c1"># should be False</span>

<span class="n">string</span> <span class="o">=</span> <span class="s2">&quot;now to include extras, with punctuation right? AAAAA abasdf YOLO&quot;</span>
<span class="k">print</span><span class="p">(</span><span class="n">is_english</span><span class="p">(</span><span class="n">string</span><span class="p">,</span><span class="mf">0.4</span><span class="p">))</span> <span class="c1"># should be True</span>
<span class="k">print</span><span class="p">(</span><span class="n">is_english</span><span class="p">(</span><span class="n">string</span><span class="p">,</span><span class="mf">0.7</span><span class="p">))</span> <span class="c1"># should be True</span>
<span class="k">print</span><span class="p">(</span><span class="n">is_english</span><span class="p">(</span><span class="n">string</span><span class="p">,</span><span class="mf">0.9</span><span class="p">))</span> <span class="c1"># should be False</span>
</pre></div>
</div>
<p>And of course, mid-development, you can test your functions individually.  For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">string</span> <span class="o">=</span> <span class="s2">&quot;hello alksdf how sdf dsasasfd are you asdf&quot;</span>
<span class="k">print</span><span class="p">(</span><span class="n">get_english_count</span><span class="p">(</span><span class="n">string</span><span class="p">))</span> <span class="c1"># should be 4</span>

<span class="n">string</span> <span class="o">=</span> <span class="s2">&quot;hello, alksdf ho^$3w sdf dsasasfd are you? asdf!!!!!&quot;</span>
<span class="k">print</span><span class="p">(</span><span class="n">remove_non_letters</span><span class="p">(</span><span class="n">string</span><span class="p">))</span>
<span class="c1"># should print &quot;hello alksdf how sdf dsasasfd are you asdf&quot;</span>
</pre></div>
</div>
<p>The following space is provided in case you want to test code out or write it in the browser:</p>

<textarea data-component="activecode" id=labspace-07-01 data-lang="python"    data-timelimit=25000  data-codelens="true" data-audio=''     >
#Write and run code here!
</textarea>
</div>
</div>


  
      
  <li id="relations-prev" class="navLink" title='Previous Section - Lab 6-3: Bruteforcing the Transposition Cipher' data-toggle="tooltip">
    <a href="lab06-03.html" >
      <i class='prevNav glyphicon glyphicon-chevron-left'></i>
    </a>
  </li>
  <a class="navLinkBg" id="navLinkBgLeft"  href="lab06-03.html" ></a>
  
  <li id="relations-next" class="navLink" title='Next Section - Lab 7-2: Bruteforcing the Transposition Cipher, Revisited' data-toggle="tooltip" >
    <a href="lab07-02.html" >
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right'></i>
    </a>
  </li>
  <a class="navLinkBg navLink" id="navLinkBgRight" href="lab07-02.html" >Next Section - Lab 7-2: Bruteforcing the Transposition Cipher, Revisited</a>

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});
  
</script>
  
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2016 Timothy Chen.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.5.
    </p>
  </div>
</footer>



<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32029811-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>